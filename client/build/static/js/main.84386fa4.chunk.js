(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n(31)},25:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),l=n(7),r=n.n(l),o=(n(25),n(8)),c=n(9),u=n(12),d=n(11),s=n(13),m=n(4),p=(n(30),n(1)),h={GET:{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}},POST:{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}},PUT:{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"}},DELETE:{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}},f=function(e){return e.text().then(function(t){var n=t&&JSON.parse(t);return e.ok?n:n&&n.msg||e.statusText}).catch(function(e){return Object(p.a)({},e,{code:400})})},v={getItems:function(e){fetch("/load/list",h.GET).then(function(e){return e.json()}).then(e)},addItem:function(e,t,n){var a=Object(p.a)({},h.POST,{body:JSON.stringify({text:e,detail:t})});return fetch("/add/list",a).then(f).then(n)},deleteItem:function(e){fetch("/delete/"+e,h.DELETE).then(f)},changeStatus:function(e){fetch("/update/"+e,h.PUT).then(f)}};var y="addDetail",b="addItem",E="cancelItem",j="changeStatus",O="clearAll",k="loadList",w="closeDetail",T="showDetail";var N=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).submit=function(){if(""!==e.title.current.value){v.addItem(e.title.current.value,e.detail.current.value,function(t){null===t.todo&&void 0===t.todo||e.props.loadList(t)}),e.title.current.value="",e.detail.current.value=""}else alert("Enter something")},e.title=i.a.createRef(),e.detail=i.a.createRef(),e}return Object(s.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){v.getItems(this.props.loadList)}},{key:"todoText",value:function(e,t,n,a){var l=this,r=e+"1",o={title:t,detail:a};return n?i.a.createElement("li",{key:r,onClick:function(){return l.props.showDetail(o)},className:"text cross-out"},t):i.a.createElement("li",{key:r,onClick:function(){return l.props.showDetail(o)},className:"text"},t," ",n)}},{key:"doneButton",value:function(e,t){var n=this,a=e+"2";return t?i.a.createElement("li",{key:a,className:"done",onClick:function(){return n.props.finishItem(e)}},"Not Done"):i.a.createElement("li",{key:a,className:"done",onClick:function(){return n.props.finishItem(e)}},"Done")}},{key:"produceTodoListView",value:function(){var e=this,t=Object.values(this.props.list).map(function(t){return i.a.createElement("ul",{className:"horizontal",key:t.id+"list"},e.todoText(t.id,t.text,t.done,t.detail),e.doneButton(t.id,t.done),i.a.createElement("li",{key:t.id,className:"cancel",onClick:function(){return e.props.cancelItem(t.id)}},"Cancel"))}),n=i.a.createElement("div",{className:"3"},i.a.createElement("h3",null,"All todo list")),a=i.a.createElement("div",{className:"container center"},i.a.createElement("button",{className:"button-clear",onClick:function(){return e.props.clearAll()}},"Clear All"));return i.a.createElement("div",null,t.length>0?n:null,i.a.createElement("br",null),i.a.createElement("ul",null,t),i.a.createElement("br",null),t.length>0?a:null)}},{key:"produceDetailView",value:function(){var e=this;return i.a.createElement("div",{className:"container center"},i.a.createElement("h3",null,this.props.ui.title),i.a.createElement("h5",null,this.props.ui.detail),i.a.createElement("input",{type:"button",onClick:function(){return e.props.closeDetail()},value:"Close",className:"button button-clear"}))}},{key:"produceAddTodoItemView",value:function(){return i.a.createElement("form",null,i.a.createElement("input",{ref:this.title,type:"text",className:"text-line",placeholder:"Any todo item?"}),i.a.createElement("br",null),i.a.createElement("textarea",{ref:this.detail,className:"text-line text-small-font",rows:"5",cols:"30",placeholder:"Any details?"}),i.a.createElement("br",null),i.a.createElement("input",{type:"button",value:"Add",className:"button button-add",onClick:this.submit}))}},{key:"render",value:function(){var e=this.produceTodoListView(),t=this.produceDetailView();return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"center"},i.a.createElement("h2",null,"Todo List")),i.a.createElement("div",{className:"center"},this.produceAddTodoItemView()),this.props.ui.showDetail?t:e)}}]),t}(i.a.Component),g={addItem:function(e,t){return{type:b,text:e,detail:t}},finishItem:function(e){return{type:j,id:e}},cancelItem:function(e){return{type:E,id:e}},addDetail:function(e){return{type:y,id:e.id,detail:e.detail}},showDetail:function(e){return{type:T,title:e.title,detail:e.detail}},closeDetail:function(){return{type:w}},clearAll:function(){return{type:O}},loadList:function(e){return{type:k,list:e}}},x=Object(m.b)(function(e){return{list:e.list,ui:e.ui}},g)(N),D=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"jumbotron"},i.a.createElement("div",{className:"container"},i.a.createElement("div",null,i.a.createElement(x,null))))}}]),t}(i.a.Component),I=Object(m.b)()(D);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=n(3),A=n(5);function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{id:t,text:e,detail:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",done:n}}var S={showDetail:!1,title:"",detail:""},P=Object(C.b)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===b){var n=L(t.text,void 0,!1,t.detail);return Object(p.a)({},e,Object(A.a)({},n.id,n))}if(t.type===j)return v.changeStatus(t.id),Object(p.a)({},e,Object(A.a)({},t.id,L(e[t.id].text,t.id,!e[t.id].done,e[t.id].detail)));if(t.type===E){var a=Object(p.a)({},e);return v.deleteItem(t.id),delete a[t.id],a}if(t.type===y)return Object(p.a)({},e,Object(A.a)({},t.id,L(e[t.id].text,t.id,e[t.id].done,t.detail)));if(t.type===O){for(var i=0,l=Object.keys(e);i<l.length;i++){var r=l[i];v.deleteItem(r)}return{}}return t.type===k?function(e){var t={},n=!0,a=!1,i=void 0;try{for(var l,r=e.todo[Symbol.iterator]();!(n=(l=r.next()).done);n=!0){var o=l.value;t[o.id]=o}}catch(h){a=!0,i=h}finally{try{n||null==r.return||r.return()}finally{if(a)throw i}}var c=!0,u=!1,d=void 0;try{for(var s,m=e.done[Symbol.iterator]();!(c=(s=m.next()).done);c=!0){var p=s.value;t[p.id]=p}}catch(h){u=!0,d=h}finally{try{c||null==m.return||m.return()}finally{if(u)throw d}}return t}(t.list):e},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;if(t.type===T){var n=t.detail;return""===n&&(n="This item has no detail..."),{showDetail:!0,title:t.title,detail:n}}return t.type===w?S:e}});r.a.render(i.a.createElement(m.a,{store:Object(C.c)(P)},i.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,1,2]]]);
//# sourceMappingURL=main.84386fa4.chunk.js.map